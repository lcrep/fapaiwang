{"version":3,"sources":["webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue?a85b","webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue?b1e8","webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue?d317","webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue?5a21","webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue","webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue?cb19","webpack:///D:/repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue?1ff1"],"names":["msgType","require","components","props","username","type","Object","value","chatType","String","SINGLE_CHAT","data","inputMessage","userMessage","created","onReady","methods","focus","$emit","blur","isGroupChat","CHAT_ROOM","getSendToParam","groupId","your","bindMessage","e","detail","emojiAction","emoji","str","msglen","length","start","lastIndexOf","end","len","slice","sendMessage","me","prototype","trim","replace","id","$im","conn","getUniqueId","msg","message","TEXT","set","from","myName","to","roomType","success","serverMsgId","fail","console","log","setGroup","send","body","uni"],"mappings":"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","file":"components/chat/inputbar/suit/main/main.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./main.vue?vue&type=template&id=817cbf66&\"\nvar renderjs\nimport script from \"./main.vue?vue&type=script&lang=js&\"\nexport * from \"./main.vue?vue&type=script&lang=js&\"\nimport style0 from \"./main.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"repositories/fapaiwang/components/chat/inputbar/suit/main/main.vue\"\nexport default component.exports","export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=template&id=817cbf66&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet msgType = require(\"../../../msgtype\");\n//let disp = require(\"../../../../../utils/broadcast\");\n\nexport default {\n\tcomponents: {\n\t\t\n\t},\n\tprops: {\n\t\tusername: {\n\t\t\ttype: Object,\n\t\t\tvalue: {},\n\t\t},\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\tvalue: msgType.chatType.SINGLE_CHAT,\n\t\t},\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputMessage: \"\",\t\t// render input 的值\n\t\t\tuserMessage: \"\",\t\t// input 的实时值\n\t\t}\n\t},\n\tcreated() {\n\t\t\n\t},\n\t\n\tonReady() {\n\t\t\n\t},\n\tmethods: {\n\t\tfocus(){\n\t\t\tthis.$emit('inputFocused')\n\t\t},\n\t\t\n\t\tblur(){\n\t\t\tthis.$emit('inputBlured')\n\t\t},\n\t\t\n\t\tisGroupChat(){\n\t\t\treturn this.chatType == msgType.chatType.CHAT_ROOM;\n\t\t},\n\t\t\n\t\tgetSendToParam(){\n\t\t\treturn this.isGroupChat() ? this.username.groupId : this.username.your;\n\t\t},\n\t\t\n\t\t// bindinput 不能打冒号！\n\t\tbindMessage(e){\n\t\t\tthis.userMessage = e.detail.value\n\t\t},\n\t\t\n\t\temojiAction(emoji){\n\t\t\tvar str;\n\t\t\tvar msglen = this.userMessage.length - 1;\n\t\t\tif(emoji && emoji != \"[del]\"){\n\t\t\t\tstr = this.userMessage + emoji;\n\t\t\t}\n\t\t\telse if(emoji == \"[del]\"){\n\t\t\t\tlet start = this.userMessage.lastIndexOf(\"[\");\n\t\t\t\tlet end = this.userMessage.lastIndexOf(\"]\");\n\t\t\t\tlet len = end - start;\n\t\t\t\tif(end != -1 && end == msglen && len >= 3 && len <= 4){\n\t\t\t\t\tstr = this.userMessage.slice(0, start);\n\t\t\t\t}\n\t\t\t\telse{\n\t\t\t\t\tstr = this.userMessage.slice(0, msglen);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.userMessage = str,\n\t\t\tthis.inputMessage = str\n\t\t},\n\t\t\n\t\tsendMessage(){\n\t\t\tlet me = this;\n\t\t\n\t\t\tString.prototype.trim=function()\n\t\t\t{\n\t\t\t     return this.replace(/(^\\s*)|(\\s*$)/g, '');\n\t\t\t}\n\t\t\tif(!this.userMessage.trim()){\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet id = this.$im.conn.getUniqueId();\n\t\t\tlet msg = new this.$im.message(msgType.TEXT, id);\n\t\t\tmsg.set({\n\t\t\t\tmsg: this.userMessage,\n\t\t\t\tfrom: this.username.myName,\n\t\t\t\tto: this.getSendToParam(),\n\t\t\t\troomType: false,\n\t\t\t\tchatType: this.chatType,\n\t\t\t\tsuccess(id, serverMsgId){\n\t\t\t\t\t//console.log('成功了')\n\t\t\t\t\t//disp.fire('em.chat.sendSuccess', id, me.userMessage);\n\t\t\t\t},\n\t\t\t\tfail(id, serverMsgId){\n\t\t\t\t\tconsole.log('失败了')\n\t\t\t\t}\n\t\t\t});\n\t\t\tif(this.chatType == msgType.chatType.CHAT_ROOM){\n\t\t\t\tmsg.setGroup(\"groupchat\");\n\t\t\t}\n\t\t\ttry{\n\t\t\t\tthis.$im.conn.send(msg.body);\n\t\t\t}catch(e){\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t\t\n\t\t\tuni.$emit('saveSendMsg', {\n\t\t\t\tmsg: msg,\n\t\t\t\ttype: msgType.TEXT,\n\t\t\t})\n\t\t\tthis.userMessage = '';\n\t\t\tthis.inputMessage = '';\n\t\t},\n\t}\n}\n","import mod from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./main.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1588561003944\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}