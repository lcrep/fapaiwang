(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/index"],{"14aa":function(t,e,a){"use strict";a.r(e);var s=a("e55b"),n=a("530c");for(var i in n)"default"!==i&&function(t){a.d(e,t,(function(){return n[t]}))}(i);a("865e");var o,r=a("f0c5"),c=Object(r["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],o);e["default"]=c.exports},"530c":function(t,e,a){"use strict";a.r(e);var s=a("b0e9"),n=a.n(s);for(var i in s)"default"!==i&&function(t){a.d(e,t,(function(){return s[t]}))}(i);e["default"]=n.a},"83b3":function(t,e,a){"use strict";(function(t){a("312d");s(a("66fd"));var e=s(a("14aa"));function s(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a("543d")["createPage"])},"865e":function(t,e,a){"use strict";var s=a("cd90"),n=a.n(s);n.a},b0e9:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,n=a("2f62"),i=o(a("2d1c"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function c(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){u(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var h={computed:(0,n.mapState)(["hasLogin","userInfo"]),data:function(){return{cWidth:"",cHeight:"",pixelRatio:1,userData:"",tabCurrent1:0,tabCurrent2:0,chatAll:[],chatData1:[],chatData2:[],userType:1,navBtns1:[{name:"我的收藏",src:"../../static/images/Btns/publicBtn1.png",router:"/pages/my/navs/myCollection"},{name:"最近浏览",src:"../../static/images/Btns/publicBtn2.png",router:"/pages/my/navs/history"},{name:"进度查询",src:"../../static/images/Btns/publicBtn3.png",router:"/pages/my/navs/recordTypeC"},{name:"帮助与反馈",src:"../../static/images/Btns/publicBtn4.png",router:"/pages/my/navs/feedback"}],navBtns2:[]}},onLoad:function(){s=this,this.hasLogin&&(this.cWidth=t.upx2px(690),this.cHeight=t.upx2px(500),this.transactionstatistics(),this.housestatisticscount(""),this.housestatisticsamount(""),this.transratiostatistics(1),this.transratiostatistics(2),this.corptransactionstatistics(),this.getUserInfo())},onShow:function(){var t=this;this.hasLogin&&setTimeout((function(){t.getUserInfo()}),300)},methods:c({},(0,n.mapMutations)(["logout"]),{reload:function(){this.hasLogin&&(this.getUserInfo(),this.transactionstatistics(),this.housestatisticscount(""),this.housestatisticsamount(""),this.transratiostatistics(1),this.transratiostatistics(2),this.corptransactionstatistics())},transactionstatistics:function(){var e=this;e.$api.transactionstatistics({}).then((function(a){if(a.success){var s=a.datas;e.chatAll=s}else t.showToast({title:a.message,icon:"none"})}))},housestatisticscount:function(e){var a=this,s={platform:e};a.$api.housestatisticscount(s).then((function(e){if(e.success){var s=e.datas;a.chatData1=s;var n={categories:[],series:[{name:"挂拍住宅",data:[],color:"#1dd7cf"},{name:"成交住宅",data:[],color:"#9495d4"}]};for(var i in s)n.categories.push(s[i].month),n.series[0].data.push(s[i].qty),n.series[1].data.push(s[i].successQty);a.showColumn("canvasColumn1",n)}else t.showToast({title:e.message,icon:"none"})}))},housestatisticsamount:function(e){var a=this,s={platform:e};a.$api.housestatisticsamount(s).then((function(e){if(e.success){var s=e.datas;a.chatData2=s;var n={categories:[],series:[{name:"挂拍住宅",data:[],color:"#1dd7cf"},{name:"成交住宅",data:[],color:"#9495d4"}]};for(var i in s)n.categories.push(s[i].month),n.series[0].data.push(s[i].allAMount),n.series[1].data.push(s[i].allSuccessAMount);a.showColumn("canvasColumn2",n)}else t.showToast({title:e.message,icon:"none"})}))},transratiostatistics:function(e){var a=this,s={type:e};a.$api.transratiostatistics(s).then((function(s){if(s.success){var n=s.datas;a.chatData3=n;var i="";i=1==e?"市场折价率 (%)":"成交率";var o={categories:[],series:[{name:i,data:[],color:"#04A9F5"}]};for(var r in n)o.categories.push(n[r].month),o.series[0].data.push(n[r].ratio);1==e?a.showLine("canvasLine1",o):a.showLine("canvasLine2",o)}else t.showToast({title:s.message,icon:"none"})}))},corptransactionstatistics:function(e){var a=this;a.$api.corptransactionstatistics().then((function(e){if(e.success){var s=e.datas;a.chatData3=s;var n={categories:[],series:[{name:"成交付款完成的住宅",data:[],color:"#04A9F5"}]};for(var i in s)n.categories.push(s[i].month),n.series[0].data.push(s[i].qty);a.showLine("canvasLine3",n)}else t.showToast({title:e.message,icon:"none"})}))},tabChange1:function(t){var e=this;e.tabCurrent1=t;var a=0==t?"":t;e.housestatisticscount(a)},tabChange2:function(t){var e=this;e.tabCurrent2=t;var a=0==t?"":t;e.housestatisticsamount(a)},showColumn:function(t,e){new i.default({$this:s,canvasId:t,type:"column",padding:[15,15,0,5],legend:{show:!0,padding:5,lineHeight:11,margin:0},fontSize:11,background:"#FFFFFF",pixelRatio:s.pixelRatio,animation:!0,categories:e.categories,series:e.series,xAxis:{disableGrid:!0},yAxis:{data:[{position:"left",axisLine:!1,format:function(t){return t.toFixed(0)}}]},dataLabel:!0,width:s.cWidth*s.pixelRatio,height:s.cHeight*s.pixelRatio,extra:{column:{type:"group",width:s.cWidth*s.pixelRatio*.45/e.categories.length}}})},showLine:function(t,e){new i.default({$this:s,canvasId:t,type:"line",colors:["#facc14","#f04864","#8543e0","#90ed7d"],fontSize:11,padding:[15,15,0,15],legend:{show:!0,padding:5,lineHeight:11,margin:0},dataLabel:!1,dataPointShape:!0,background:"#FFFFFF",pixelRatio:s.pixelRatio,categories:e.categories,series:e.series,animation:!0,xAxis:{type:"grid",gridColor:"#CCCCCC",gridType:"dash",dashLength:8},yAxis:{gridType:"dash",gridColor:"#CCCCCC",dashLength:8,data:[{position:"left",format:function(t){return t.toFixed(0)}}]},width:s.cWidth*s.pixelRatio,height:s.cHeight*s.pixelRatio,extra:{line:{type:"straight"}}})},getUserInfo:function(){var e=this;e.$api.userinfoQuery({}).then((function(a){if(a.success){var s=a.datas;s.headImgUrl=s.headImgUrl?s.headImgUrl:"../../static/images/defaultUserPic.png",s.nickName=s.nickName?s.nickName:s.mobile,e.userType=s.userType,2==s.userType?(e.queryjiumenu(),e.navBtns1[2].router="/pages/my/navs/recordTypeB"):e.navBtns1[2].router="/pages/my/navs/recordTypeC",e.userData=s}else t.showToast({title:a.message,icon:"none"})}))},queryjiumenu:function(){var e=this;e.$api.queryjiumenu().then((function(a){if(a.success){var s=a.datas;for(var n in s)"log"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn1.png",s[n].router="/pages/my/manageNavs/journal/list"):"return_visit"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn2.png",s[n].router="/pages/my/manageNavs/returnVisit/list"):"contract"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn3.png",s[n].router="/pages/my/manageNavs/contract/list"):"pay"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn4.png",s[n].router="/pages/my/manageNavs/payTag/list"):"diligence"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn5.png",s[n].router="/pages/my/manageNavs/inquire/list"):"loan"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn6.png",s[n].router="/pages/my/manageNavs/loan/list"):"auction"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn7.png",s[n].router="/pages/my/manageNavs/hasJoin/list"):"transfer"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn8.png",s[n].router="/pages/my/manageNavs/transfer/list"):"retreat"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn9.png",s[n].router="/pages/my/manageNavs/vacate/list"):"over"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn10.png",s[n].router="/pages/my/manageNavs/handed/list"):"notice"==s[n].code?(s[n].icon="../../static/images/Btns/myBtn11.png",s[n].router="/pages/my/manageNavs/notice/list"):"employee"==s[n].code&&(s[n].icon="../../static/images/Btns/myBtn12.png",s[n].router="/pages/my/manageNavs/staff/list");e.navBtns2=s}else t.showToast({title:a.message,icon:"none"})}))},btnTap1:function(t){this.$Router.push({path:this.navBtns1[t.detail.index].router})},btnTap2:function(t){this.$Router.push({path:this.navBtns2[t.detail.index].router})},toLogin:function(){this.$Router.push({path:"/pages/my/login"})},gotoSelfPage:function(){this.$Router.push({path:"/pages/my/selfPage"})},gotograph1:function(){this.$Router.push({path:"/pages/my/statisticsEmy"})},gotograph2:function(){this.$Router.push({path:"/pages/my/statisticsCus"})},edit:function(){this.$Router.push({path:"/pages/my/edit"})}})};e.default=h}).call(this,a("543d")["default"])},cd90:function(t,e,a){},e55b:function(t,e,a){"use strict";var s={"uni-icons":function(){return Promise.all([a.e("common/vendor"),a.e("components/uni-icons/uni-icons")]).then(a.bind(null,"df065"))},"uni-grid":function(){return a.e("components/uni-grid/uni-grid").then(a.bind(null,"d513"))},"uni-grid-item":function(){return a.e("components/uni-grid-item/uni-grid-item").then(a.bind(null,"caa6"))}},n=function(){var t=this,e=t.$createElement;t._self._c},i=[];a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){return s}))}},[["83b3","common/runtime","common/vendor"]]]);