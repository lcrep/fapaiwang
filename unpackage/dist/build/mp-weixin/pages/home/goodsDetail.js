(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/goodsDetail"],{"50ab":function(e,t,i){"use strict";i.r(t);var a=i("8496"),o=i.n(a);for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);t["default"]=o.a},"621f":function(e,t,i){},"74c0":function(e,t,i){"use strict";(function(e){i("312d");a(i("66fd"));var t=a(i("80e0"));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},"7c1c":function(e,t,i){"use strict";var a={"uni-icons":function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-icons/uni-icons")]).then(i.bind(null,"df065"))},"uni-load-more":function(){return i.e("components/uni-load-more/uni-load-more").then(i.bind(null,"61d8"))}},o=function(){var e=this,t=e.$createElement;e._self._c},s=[];i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return a}))},"80e0":function(e,t,i){"use strict";i.r(t);var a=i("7c1c"),o=i("50ab");for(var s in o)"default"!==s&&function(e){i.d(t,e,(function(){return o[e]}))}(s);i("88d9");var n,c=i("f0c5"),u=Object(c["a"])(o["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],n);t["default"]=u.exports},8496:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{paimaiId:"611884335520",houseSource:2,houseInfo:"",houseDetail:"",dealPage:1,pageNum:10,total:"",dealList:[],loadStatus:"more",hasLoad:!1,descIsOpen1:!1,descIsOpen2:!1,descIsOpen3:!1,descIsOpen4:!1,offerIsOpen:!1,scrollTop:0,goodsStatusBoxHeight:0,scrollTag1:0,scrollTag2:0,scrollTag3:0,scrollTag4:0,navCurrent:0,bannerList:[],recordList:[],houseList:[],collected:!1}},onLoad:function(e){var t=this;t.paimaiId=e.paimaiId,t.houseSource=e.houseSource,t.getHouseDetail(t.paimaiId,t.houseSource),t.houseDetailRecord(t.paimaiId,t.houseSource),t.collectState(t.paimaiId,t.houseSource)},onReady:function(){var e=this;setTimeout((function(){e.$utils.getBoxheight(".goodsStatusBox",(function(t){e.goodsStatusBoxHeight=t[0].height})),e.$utils.getBoxheight(".swiper",(function(t){e.scrollTag1=t[0].height})),e.$utils.getBoxheight(".headerBox",(function(t){e.scrollTag2=t[0].height-e.goodsStatusBoxHeight})),e.$utils.getBoxheight(".tabBox1",(function(t){e.scrollTag3=t[0].height+e.scrollTag2})),e.$utils.getBoxheight(".tabBox2",(function(t){e.scrollTag4=t[0].height+e.scrollTag3}))}),300)},methods:{getHouseDetail:function(t,i){var a=this;e.showLoading({title:"加载中..."});var o={paimaiId:t,houseSource:i};a.$api.houseDetail(o).then((function(t){if(e.hideLoading(),t.success){var i=t.datas.houseDetailDO,o=t.datas.houseInfoDO;a.bannerList=JSON.parse(i.imgList);var s=(new Date).getTime(),n=new Date(o.startTime).getTime(),c=new Date(o.endTime).getTime();n>s?(o.paimaiStatus=1,o.timeText=a.$utils.formatTime(n,"MM月DD日 hh:mm")):s>=n&&s<=c?(o.paimaiStatus=2,o.timeText=a.$utils.formatTime(c,"MM月DD日 hh:mm")):(o.paimaiStatus=3,o.timeText=a.$utils.formatTime(c,"YYYY年MM月DD日")),1==o.paimaiTimes?o.paimaiTimesText="一拍":2==o.paimaiTimes?o.paimaiTimesText="二拍":4==o.paimaiTimes?o.paimaiTimesText="变卖":5==o.paimaiTimes&&(o.paimaiTimesText="重新拍卖"),i.dealPriceText=a.$utils.formatCurrency(i.dealPrice),o.assessmentPriceText=a.$utils.formatCurrency(o.assessmentPrice),o.currentPriceText=a.$utils.formatCurrency(o.currentPrice),1==o.houseType?o.houseTypeText="住宅用房":2==o.houseType?o.houseTypeText="商业用房":3==o.houseType?o.houseTypeText="工业用房":4==o.houseType&&(o.houseTypeText="其他"),a.houseDetail=i,a.houseInfo=o,a.hasLoad=!0,a.dealdoneList(o.cityId,1),a.browsesAdd()}else e.showToast({title:t.message,icon:"none"})}))},dealdoneList:function(t,i){var a=this,o={cityId:t,startPage:i};a.loadStatus="loading",a.$api.dealdoneList(o).then((function(t){if(t.success){var i=t.datas.rows;for(var o in i){i[o].currentPriceText=(1e-4*i[o].currentPrice).toFixed(2),1==i[o].paimaiTimes?i[o].paimaiTimesText="一拍":2==i[o].paimaiTimes?i[o].paimaiTimesText="二拍":4==i[o].paimaiTimes?i[o].paimaiTimesText="变卖":5==i[o].paimaiTimes&&(i[o].paimaiTimesText="重新拍卖");var s=(new Date).getTime(),n=new Date(i[o].startTime).getTime(),c=new Date(i[o].endTime).getTime();n>s?(i[o].paimaiStatus=1,i[o].timeText=a.$utils.formatTime(n,"MM月DD日 hh:mm")):s>=n&&s<=c?(i[o].paimaiStatus=2,i[o].timeText=a.$utils.timeCount(c)):(i[o].paimaiStatus=3,i[o].timeText=a.$utils.formatTime(c,"YYYY年MM月DD日")),a.dealList.push(i[o])}var u=t.datas.total;a.total=u;var r=Math.ceil(u/10);parseInt(r)>parseInt(a.pageNum)?(a.dealPage++,a.loadStatus="more"):a.loadStatus="noMore"}else e.showToast({title:t.message,icon:"none"})}))},browsesAdd:function(){var t=this,i={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.browsesAdd(i).then((function(t){t.success||e.showToast({title:t.message,icon:"none"})}))},houseDetailRecord:function(t,i){var a=this,o={paimaiId:t,houseSource:i};a.$api.houseDetailRecord(o).then((function(t){if(t.success){var i=t.datas;a.recordList=i}else e.showToast({title:t.message,icon:"none"})}))},collectState:function(t,i){var a=this,o={paimaiId:t,houseSource:i};a.$api.collectState(o).then((function(t){if(t.success){var i=t.datas.collected;a.collected=i}else e.showToast({title:t.message,icon:"none"})}))},collectHouse:function(){var t=this,i={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.houseCollect(i).then((function(i){i.success?t.collected=1:e.showToast({title:i.message,icon:"none"})}))},gotoChat:function(){var t=this,i={};t.$api.chatGetcsinfo(i).then((function(i){if(i.success){var a=i.datas.csId,o=i.datas.curUserId;t.$Router.push({path:"/pages/consultant/charRoom",query:{myUserId:o,chatUserId:a}})}else e.showToast({title:i.message,icon:"none"})}))},previewImage:function(t){var i=this;e.previewImage({urls:i.bannerList,current:i.bannerList[t]})},onPageScroll:function(e){var t=this;t.scrollTop=e.scrollTop,e.scrollTop<=t.scrollTag3?t.navCurrent=0:e.scrollTop>t.scrollTag3&&e.scrollTop<=t.scrollTag4&&0!=t.scrollTag3?t.navCurrent=1:e.scrollTop>t.scrollTag4&&0!=t.scrollTag4&&(t.navCurrent=2)},openDesc:function(e){var t=this;1==e?t.descIsOpen1=!t.descIsOpen1:2==e?t.descIsOpen2=!t.descIsOpen2:3==e?t.descIsOpen3=!t.descIsOpen3:4==e&&(t.descIsOpen4=!t.descIsOpen4),setTimeout((function(){t.$utils.getBoxheight(".tabBox1",(function(e){t.scrollTag3=e[0].height+t.scrollTag2})),t.$utils.getBoxheight(".tabBox2",(function(e){t.scrollTag4=e[0].height+t.scrollTag3}))}),500)},navTap:function(t){var i=this,a=0;0==t?a=i.scrollTag2:1==t?a=i.scrollTag3+10:2==t&&(a=i.scrollTag4+10),e.pageScrollTo({duration:600,scrollTop:a})},openOffers:function(e){var t=this;t.offerIsOpen=!t.offerIsOpen,setTimeout((function(){t.$utils.getBoxheight(".tabBox2",(function(e){t.scrollTag4=e[0].height+t.scrollTag3}))}),500)}}};t.default=i}).call(this,i("543d")["default"])},"88d9":function(e,t,i){"use strict";var a=i("621f"),o=i.n(a);o.a}},[["74c0","common/runtime","common/vendor"]]]);