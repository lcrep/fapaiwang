(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/goodsDetail"],{"3ae9":function(e,t,i){"use strict";var o={"uni-icons":function(){return Promise.all([i.e("common/vendor"),i.e("components/uni-icons/uni-icons")]).then(i.bind(null,"df06"))},"uni-load-more":function(){return i.e("components/uni-load-more/uni-load-more").then(i.bind(null,"61d8"))}},a=function(){var e=this,t=e.$createElement;e._self._c},s=[];i.d(t,"b",(function(){return a})),i.d(t,"c",(function(){return s})),i.d(t,"a",(function(){return o}))},"50ab":function(e,t,i){"use strict";i.r(t);var o=i("8496"),a=i.n(o);for(var s in o)"default"!==s&&function(e){i.d(t,e,(function(){return o[e]}))}(s);t["default"]=a.a},"621f":function(e,t,i){},"74c0":function(e,t,i){"use strict";(function(e){i("312d");o(i("66fd"));var t=o(i("80e0"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},"80e0":function(e,t,i){"use strict";i.r(t);var o=i("3ae9"),a=i("50ab");for(var s in a)"default"!==s&&function(e){i.d(t,e,(function(){return a[e]}))}(s);i("88d9");var n,c=i("f0c5"),u=Object(c["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],n);t["default"]=u.exports},8496:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i={data:function(){return{paimaiId:"611884335520",houseSource:2,houseInfo:"",houseDetail:"",dealPage:1,total:"",dealList:[],loadStatus:"more",hasLoad:!1,descIsOpen1:!1,descIsOpen2:!1,descIsOpen3:!1,descIsOpen4:!1,offerIsOpen:!1,scrollTop:0,goodsStatusBoxHeight:0,scrollTag1:0,scrollTag2:0,scrollTag3:0,scrollTag4:0,navCurrent:0,bannerList:[],recordList:[],collected:!1}},onLoad:function(e){var t=this;t.paimaiId=e.paimaiId,t.houseSource=e.houseSource,t.getHouseDetail(t.paimaiId,t.houseSource),t.houseDetailRecord(t.paimaiId,t.houseSource),t.collectState(t.paimaiId,t.houseSource)},onReady:function(){var e=this;setTimeout((function(){e.$utils.getBoxheight(".goodsStatusBox",(function(t){e.goodsStatusBoxHeight=t[0].height})),e.$utils.getBoxheight(".swiper",(function(t){e.scrollTag1=t[0].height})),e.$utils.getBoxheight(".headerBox",(function(t){e.scrollTag2=t[0].height-e.goodsStatusBoxHeight})),e.$utils.getBoxheight(".tabBox1",(function(t){e.scrollTag3=t[0].height+e.scrollTag2})),e.$utils.getBoxheight(".tabBox2",(function(t){e.scrollTag4=t[0].height+e.scrollTag3}))}),300)},methods:{getHouseDetail:function(t,i){var o=this;e.showLoading({title:"加载中..."});var a={paimaiId:t,houseSource:i};o.$api.houseDetail(a).then((function(t){if(e.hideLoading(),t.success){var i=t.datas.houseDetailDO,a=t.datas.houseInfoDO;o.bannerList=JSON.parse(i.imgList);var s=(new Date).getTime(),n=new Date(a.startTime).getTime(),c=new Date(a.endTime).getTime();n>s?(a.paimaiStatus=1,a.timeText=o.$utils.formatTime(n,"MM月DD日 hh:mm")):s>=n&&s<=c?(a.paimaiStatus=2,a.timeText=o.$utils.formatTime(c,"MM月DD日 hh:mm")):(a.paimaiStatus=3,a.timeText=o.$utils.formatTime(c,"YYYY年MM月DD日")),1==a.paimaiTimes?a.paimaiTimesText="一拍":2==a.paimaiTimes?a.paimaiTimesText="二拍":4==a.paimaiTimes?a.paimaiTimesText="变卖":5==a.paimaiTimes&&(a.paimaiTimesText="重新拍卖"),i.dealPriceText=o.$utils.formatCurrency(i.dealPrice),a.assessmentPriceText=o.$utils.formatCurrency(a.assessmentPrice),a.currentPriceText=o.$utils.formatCurrency(a.currentPrice),1==a.houseType?a.houseTypeText="住宅用房":2==a.houseType?a.houseTypeText="商业用房":3==a.houseType?a.houseTypeText="工业用房":4==a.houseType&&(a.houseTypeText="其他"),o.houseDetail=i,o.houseInfo=a,o.hasLoad=!0,o.dealdoneList(a.cityId,1),o.browsesAdd()}else e.showToast({title:t.message,icon:"none"})}))},dealdoneList:function(t,i){var o=this,a={cityId:t,startPage:i};o.loadStatus="loading",o.$api.dealdoneList(a).then((function(t){if(t.success){var i=t.datas.rows;for(var a in i){i[a].currentPriceText=(1e-4*i[a].currentPrice).toFixed(2),1==i[a].paimaiTimes?i[a].paimaiTimesText="一拍":2==i[a].paimaiTimes?i[a].paimaiTimesText="二拍":4==i[a].paimaiTimes?i[a].paimaiTimesText="变卖":5==i[a].paimaiTimes&&(i[a].paimaiTimesText="重新拍卖");var s=(new Date).getTime(),n=new Date(i[a].startTime).getTime(),c=new Date(i[a].endTime).getTime();n>s?(i[a].paimaiStatus=1,i[a].timeText=o.$utils.formatTime(n,"MM月DD日 hh:mm")):s>=n&&s<=c?(i[a].paimaiStatus=2,i[a].timeText=o.$utils.timeCount(c)):(i[a].paimaiStatus=3,i[a].timeText=o.$utils.formatTime(c,"YYYY年MM月DD日")),o.houseList.push(i[a])}var u=t.datas.total;o.total=u;var r=Math.ceil(u/10);parseInt(r)>parseInt(o.pageNum)?(o.dealPage++,o.loadStatus="more"):o.loadStatus="noMore"}else e.showToast({title:t.message,icon:"none"})}))},browsesAdd:function(){var t=this,i={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.browsesAdd(i).then((function(t){t.success||e.showToast({title:t.message,icon:"none"})}))},houseDetailRecord:function(t,i){var o=this,a={paimaiId:t,houseSource:i};o.$api.houseDetailRecord(a).then((function(t){if(t.success){var i=t.datas;o.recordList=i}else e.showToast({title:t.message,icon:"none"})}))},collectState:function(t,i){var o=this,a={paimaiId:t,houseSource:i};o.$api.collectState(a).then((function(t){if(t.success){var i=t.datas.collected;o.collected=i}else e.showToast({title:t.message,icon:"none"})}))},collectHouse:function(){var t=this,i={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.houseCollect(i).then((function(i){i.success?t.collected=1:e.showToast({title:i.message,icon:"none"})}))},previewImage:function(t){var i=this;e.previewImage({urls:i.bannerList,current:i.bannerList[t]})},onPageScroll:function(e){var t=this;t.scrollTop=e.scrollTop,e.scrollTop<=t.scrollTag3?t.navCurrent=0:e.scrollTop>t.scrollTag3&&e.scrollTop<=t.scrollTag4&&0!=t.scrollTag3?t.navCurrent=1:e.scrollTop>t.scrollTag4&&0!=t.scrollTag4&&(t.navCurrent=2)},openDesc:function(e){var t=this;1==e?t.descIsOpen1=!t.descIsOpen1:2==e?t.descIsOpen2=!t.descIsOpen2:3==e?t.descIsOpen3=!t.descIsOpen3:4==e&&(t.descIsOpen4=!t.descIsOpen4),setTimeout((function(){t.$utils.getBoxheight(".tabBox1",(function(e){t.scrollTag3=e[0].height+t.scrollTag2})),t.$utils.getBoxheight(".tabBox2",(function(e){t.scrollTag4=e[0].height+t.scrollTag3}))}),500)},navTap:function(t){var i=this,o=0;0==t?o=i.scrollTag2:1==t?o=i.scrollTag3+10:2==t&&(o=i.scrollTag4+10),e.pageScrollTo({duration:600,scrollTop:o})},openOffers:function(e){var t=this;t.offerIsOpen=!t.offerIsOpen,setTimeout((function(){t.$utils.getBoxheight(".tabBox2",(function(e){t.scrollTag4=e[0].height+t.scrollTag3}))}),500)}}};t.default=i}).call(this,i("543d")["default"])},"88d9":function(e,t,i){"use strict";var o=i("621f"),a=i.n(o);a.a}},[["74c0","common/runtime","common/vendor"]]]);