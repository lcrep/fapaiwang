(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/goodsDetail"],{"50ab":function(e,t,o){"use strict";o.r(t);var i=o("8496"),a=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=a.a},"621f":function(e,t,o){},"74c0":function(e,t,o){"use strict";(function(e){o("312d");i(o("66fd"));var t=i(o("80e0"));function i(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},"80e0":function(e,t,o){"use strict";o.r(t);var i=o("d32e"),a=o("50ab");for(var s in a)"default"!==s&&function(e){o.d(t,e,(function(){return a[e]}))}(s);o("88d9");var n,c=o("f0c5"),u=Object(c["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],n);t["default"]=u.exports},8496:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{paimaiId:"611884335520",houseSource:2,houseInfo:"",houseDetail:"",noticeHtml:"",announcementHtml:"",descriptionHtml:"",dealPage:1,pageNum:10,total:"",dealList:[],loadStatus:"more",hasLoad:!1,descIsOpen1:!1,descIsOpen2:!1,descIsOpen3:!1,descIsOpen4:!1,offerIsOpen:!1,scrollTop:0,goodsStatusBoxHeight:0,scrollTag1:0,scrollTag2:0,scrollTag3:0,scrollTag4:0,navCurrent:0,bannerList:[],recordList:[],houseList:[],collected:!1}},onLoad:function(e){var t=this;t.paimaiId=e.paimaiId,t.houseSource=e.houseSource,t.getHouseDetail(t.paimaiId,t.houseSource),t.houseDetailRecord(t.paimaiId,t.houseSource),t.collectState(t.paimaiId,t.houseSource),t.querynotice(),t.queryannouncement(),t.queryproductdescription()},onReady:function(){var e=this;setTimeout((function(){e.$utils.getBoxheight(".goodsStatusBox",(function(t){e.goodsStatusBoxHeight=t[0].height})),e.$utils.getBoxheight(".swiper",(function(t){e.scrollTag1=t[0].height})),e.$utils.getBoxheight(".headerBox",(function(t){e.scrollTag2=t[0].height-e.goodsStatusBoxHeight})),e.$utils.getBoxheight(".tabBox1",(function(t){e.scrollTag3=t[0].height+e.scrollTag2})),e.$utils.getBoxheight(".tabBox2",(function(t){e.scrollTag4=t[0].height+e.scrollTag3}))}),300)},methods:{escape2Html:function(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,(function(e,o){return t[o]})).replace("<section","<div").replace("<img",'<img style="max-width:100%;height:auto" ')},getHouseDetail:function(t,o){var i=this;e.showLoading({title:"加载中..."});var a={paimaiId:t,houseSource:o};i.$api.houseDetail(a).then((function(t){if(e.hideLoading(),t.success){var o=t.datas.houseDetailDO,a=t.datas.houseInfoDO;i.bannerList=JSON.parse(o.imgList);var s=(new Date).getTime(),n=new Date(a.startTime).getTime(),c=new Date(a.endTime).getTime();n>s?(a.paimaiStatus=1,a.timeText=i.$utils.formatTime(n,"MM月DD日 hh:mm")):s>=n&&s<=c?(a.paimaiStatus=2,a.timeText=i.$utils.formatTime(c,"MM月DD日 hh:mm")):(a.paimaiStatus=3,a.timeText=i.$utils.formatTime(c,"YYYY年MM月DD日")),1==a.paimaiTimes?a.paimaiTimesText="一拍":2==a.paimaiTimes?a.paimaiTimesText="二拍":4==a.paimaiTimes?a.paimaiTimesText="变卖":5==a.paimaiTimes&&(a.paimaiTimesText="重新拍卖"),o.dealPriceText=i.$utils.formatCurrency(o.dealPrice),a.assessmentPriceText=i.$utils.formatCurrency(a.assessmentPrice),a.currentPriceText=i.$utils.formatCurrency(a.currentPrice),1==a.houseType?a.houseTypeText="住宅用房":2==a.houseType?a.houseTypeText="商业用房":3==a.houseType?a.houseTypeText="工业用房":4==a.houseType&&(a.houseTypeText="其他"),i.houseDetail=o,i.houseInfo=a,i.hasLoad=!0,i.dealdoneList(a.cityId,1),i.browsesAdd()}else e.showToast({title:t.message,icon:"none"})}))},dealdoneList:function(t,o){var i=this,a={cityId:t,startPage:o};i.loadStatus="loading",i.$api.dealdoneList(a).then((function(t){if(t.success){var o=t.datas.rows;for(var a in o){o[a].currentPriceText=(1e-4*o[a].currentPrice).toFixed(2),1==o[a].paimaiTimes?o[a].paimaiTimesText="一拍":2==o[a].paimaiTimes?o[a].paimaiTimesText="二拍":4==o[a].paimaiTimes?o[a].paimaiTimesText="变卖":5==o[a].paimaiTimes&&(o[a].paimaiTimesText="重新拍卖");var s=(new Date).getTime(),n=new Date(o[a].startTime).getTime(),c=new Date(o[a].endTime).getTime();n>s?(o[a].paimaiStatus=1,o[a].timeText=i.$utils.formatTime(n,"MM月DD日 hh:mm")):s>=n&&s<=c?(o[a].paimaiStatus=2,o[a].timeText=i.$utils.timeCount(c)):(o[a].paimaiStatus=3,o[a].timeText=i.$utils.formatTime(c,"YYYY年MM月DD日")),i.dealList.push(o[a])}var u=t.datas.total;i.total=u;var r=Math.ceil(u/10);parseInt(r)>parseInt(i.pageNum)?(i.dealPage++,i.loadStatus="more"):i.loadStatus="noMore"}else e.showToast({title:t.message,icon:"none"})}))},querynotice:function(){var t=this,o={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.querynotice(o).then((function(o){o.success?t.noticeHtml=t.escape2Html(o.datas):e.showToast({title:o.message,icon:"none"})}))},queryannouncement:function(){var t=this,o={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.queryannouncement(o).then((function(o){o.success?t.announcementHtml=o.datas:e.showToast({title:o.message,icon:"none"})}))},itemTap:function(e,t){this.$Router.push({path:"/pages/home/goodsDetail",query:{paimaiId:e,houseSource:t}})},queryproductdescription:function(){var t=this,o={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.queryproductdescription(o).then((function(o){o.success?t.descriptionHtml=o.datas:e.showToast({title:o.message,icon:"none"})}))},browsesAdd:function(){var t=this,o={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.browsesAdd(o).then((function(t){t.success||e.showToast({title:t.message,icon:"none"})}))},houseDetailRecord:function(t,o){var i=this,a={paimaiId:t,houseSource:o};i.$api.houseDetailRecord(a).then((function(t){if(t.success){var o=t.datas;i.recordList=o}else e.showToast({title:t.message,icon:"none"})}))},collectState:function(t,o){var i=this,a={paimaiId:t,houseSource:o};i.$api.collectState(a).then((function(t){if(t.success){var o=t.datas.collected;i.collected=o}else e.showToast({title:t.message,icon:"none"})}))},collectHouse:function(){var t=this,o={paimaiId:t.paimaiId,houseSource:t.houseSource};t.$api.houseCollect(o).then((function(o){o.success?t.collected=1:e.showToast({title:o.message,icon:"none"})}))},gotoChat:function(){var t=this,o={};t.$api.chatGetcsinfo(o).then((function(o){if(o.success){var i=o.datas.csId,a=o.datas.curUserId;t.$Router.push({path:"/pages/consultant/charRoom",query:{myUserId:a,chatUserId:i}})}else e.showToast({title:o.message,icon:"none"})}))},previewImage:function(t){var o=this;e.previewImage({urls:o.bannerList,current:o.bannerList[t]})},onPageScroll:function(e){var t=this;t.scrollTop=e.scrollTop,e.scrollTop<=t.scrollTag3?t.navCurrent=0:e.scrollTop>t.scrollTag3&&e.scrollTop<=t.scrollTag4&&0!=t.scrollTag3?t.navCurrent=1:e.scrollTop>t.scrollTag4&&0!=t.scrollTag4&&(t.navCurrent=2)},openDesc:function(e){var t=this;1==e?t.descIsOpen1=!t.descIsOpen1:2==e?t.descIsOpen2=!t.descIsOpen2:3==e?t.descIsOpen3=!t.descIsOpen3:4==e&&(t.descIsOpen4=!t.descIsOpen4),setTimeout((function(){t.$utils.getBoxheight(".tabBox1",(function(e){t.scrollTag3=e[0].height+t.scrollTag2})),t.$utils.getBoxheight(".tabBox2",(function(e){t.scrollTag4=e[0].height+t.scrollTag3}))}),500)},navTap:function(t){var o=this,i=0;0==t?i=o.scrollTag2:1==t?i=o.scrollTag3+10:2==t&&(i=o.scrollTag4+10),e.pageScrollTo({duration:600,scrollTop:i})},openOffers:function(e){var t=this;t.offerIsOpen=!t.offerIsOpen,setTimeout((function(){t.$utils.getBoxheight(".tabBox2",(function(e){t.scrollTag4=e[0].height+t.scrollTag3}))}),500)}}};t.default=o}).call(this,o("543d")["default"])},"88d9":function(e,t,o){"use strict";var i=o("621f"),a=o.n(i);a.a},d32e:function(e,t,o){"use strict";var i={"jyf-parser":function(){return Promise.all([o.e("common/vendor"),o.e("components/jyf-parser/jyf-parser")]).then(o.bind(null,"b25c"))},"uni-icons":function(){return Promise.all([o.e("common/vendor"),o.e("components/uni-icons/uni-icons")]).then(o.bind(null,"df065"))},"uni-load-more":function(){return o.e("components/uni-load-more/uni-load-more").then(o.bind(null,"61d8"))}},a=function(){var e=this,t=e.$createElement;e._self._c},s=[];o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}))}},[["74c0","common/runtime","common/vendor"]]]);