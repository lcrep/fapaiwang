(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/chat/inputbar/suit/image/image"],{"0fa0":function(e,t,n){"use strict";n.r(t);var a=n("1a54"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t["default"]=i.a},"1a54":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("dec8"),i={components:{},data:function(){return{}},props:{username:{type:Object,value:{}},chatType:{type:String,value:a.chatType.SINGLE_CHAT}},onUnload:function(){},methods:{openCamera:function(){var t=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["camera"],success:function(e){t.upLoadImage(e)}})},sendImage:function(){var t=this;e.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album"],success:function(e){t.upLoadImage(e)}})},isGroupChat:function(){return this.chatType==a.chatType.CHAT_ROOM},getSendToParam:function(){return this.isGroupChat()?this.username.groupId:this.username.your},upLoadImage:function(t){var n=this,i=t.tempFilePaths,o=this.$im.conn.context.accessToken;e.getImageInfo({src:t.tempFilePaths[0],success:function(t){var u={jpg:!0,gif:!0,png:!0,bmp:!0},c=n.$im.config.appkey.split("#"),s=t.width,r=t.height,p=t.path.lastIndexOf("."),f=~p&&t.path.slice(p+1)||"";f.toLowerCase()in u&&e.uploadFile({url:"https://a1.easemob.com/"+c[0]+"/"+c[1]+"/chatfiles",filePath:i[0],name:"file",header:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o},success:function(t){var o=t.data,u=JSON.parse(o),c=n.$im.conn.getUniqueId(),p=new n.$im.message(a.IMAGE,c),l={type:a.IMAGE,size:{width:s,height:r},url:u.uri+"/"+u.entities[0].uuid,filetype:f,filename:i[0]};p.set({apiUrl:n.$im.config.apiURL,body:l,from:n.username.myName,to:n.getSendToParam(),roomType:!1,chatType:n.chatType,success:function(e){}}),n.chatType==a.chatType.CHAT_ROOM&&p.setGroup("groupchat"),n.$im.conn.send(p.body),e.$emit("saveSendMsg",{msg:p,type:a.IMAGE})}})}})}}};t.default=i}).call(this,n("543d")["default"])},"6f45":function(e,t,n){"use strict";var a,i=function(){var e=this,t=e.$createElement;e._self._c},o=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},ec54:function(e,t,n){"use strict";n.r(t);var a=n("6f45"),i=n("0fa0");for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u,c=n("f0c5"),s=Object(c["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],u);t["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/chat/inputbar/suit/image/image-create-component',
    {
        'components/chat/inputbar/suit/image/image-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("ec54"))
        })
    },
    [['components/chat/inputbar/suit/image/image-create-component']]
]);
